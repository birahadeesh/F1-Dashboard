{% extends "base.html" %}

{% block title %}Login - F1 Race Data Dashboard{% endblock %}

{% block content %}
<!-- Track Background -->
<div class="track-bg"></div>

<!-- Racing Line Effect -->
<div class="racing-line top-racing-line"></div>

<!-- Added animated F1 car that drives across the screen -->
<div class="racing-car ferrari login-animation">
    <svg viewBox="0 0 1000 450" xmlns="http://www.w3.org/2000/svg">
        <path class="car-body" d="M71.8,290.9c0,0-15.3-13.1,15.3-17.6l22.7-1.1c0,0,47.6-47.6,70.3-54.9s264.5-95.2,264.5-95.2
        s169.3-85,183.5-61.1c0,0-25.6,1.7-33,6.8c0,0,90.9-35.2,113.6-35.2s223.4,161.9,223.4,161.9l7.4,78.6c0,0-22.7,11.4-22.7,21.6
        c0,0-87.5-16.5-120.5-20.5s-81.3-1.5-81.3-1.5l-102.2-5.1L329.5,290l-100,19.3l-108.9-3.7c0,0-19.1,12.4-24.2,12.4
        c-5.1,0-15.3-21.6-15.3-21.6L71.8,290.9z" fill="#e10600" />
        <path class="car-wing" d="M223.9,217.1c-19.2,5.5-56.7,40.5-93.3,56.2S71.8,290.9,71.8,290.9l8.2,5.7c0,0,15.6,17.6,21.6,12.5
        c0,0,102.2-1.7,161.3-25.6S329.5,258,329.5,258L223.9,217.1z" fill="#e10600" />
        <path class="car-cockpit" d="M514.9,176.2l-5.7,27.3c0,0,0,33,12.5,41.8c5.4,3.8,36.3,15.9,47.6,15.9h78.8c2.1,0,9.1-1.1,10.2-5.7
        c0,0,17.6-30.1,17.6-36.5s-11.7-56-11.7-56L514.9,176.2z" fill="#e10600" />
        <circle class="wheel" cx="220" cy="300" r="32" fill="#1f1f1f" />
        <circle class="wheel" cx="700" cy="300" r="32" fill="#1f1f1f" />
    </svg>
</div>

<div class="row justify-content-center mt-5">
    <div class="col-md-6 col-lg-5">
        <div class="card shadow login-card">
            <div class="checkered-flag-pattern"></div>
            <div class="card-header bg-dark text-white text-center position-relative">
                <div class="racing-line header-racing-line"></div>
                <h3 class="mb-0">
                    <i class="fas fa-user-circle me-2"></i>Login
                </h3>
            </div>
            <div class="card-body p-4">
                <form method="POST" action="{{ url_for('login') }}">
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Password</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-lock"></i></span>
                            <input type="password" class="form-control" id="password" name="password" required>
                        </div>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="remember" name="remember">
                        <label class="form-check-label" for="remember">Remember Me</label>
                    </div>
                    <div class="mb-4 text-end">
                        <a href="{{ url_for('reset_password') }}" class="text-danger forgot-password">Forgot
                            Password?</a>
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-danger login-button">
                            <i class="fas fa-sign-in-alt me-2"></i>Login
                        </button>
                    </div>
                </form>
            </div>
            <div class="card-footer text-center py-3 position-relative">
                <div class="mini-f1-car team-mercedes footer-car"></div>
                <p class="mb-0">Don't have an account? <a href="{{ url_for('register') }}"
                        class="text-danger">Register</a></p>
                <p class="mt-2">Return to <a href="{{ url_for('home') }}" class="text-danger">Home Page</a></p>
            </div>
        </div>
    </div>
</div>

<!-- Bottom racing line -->
<div class="racing-line bottom-racing-line"></div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Add login form submit effect
        const loginButton = document.querySelector('.login-button');
        if (loginButton) {
            loginButton.addEventListener('mousedown', function () {
                this.classList.add('btn-pressed');
            });
            loginButton.addEventListener('mouseup', function () {
                this.classList.remove('btn-pressed');
            });
        }
    });
</script>
{% endblock %}